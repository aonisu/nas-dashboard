# ğŸš€ NAS Dashboard Docker é•œåƒæ„å»ºè¯´æ˜

## âš ï¸ å½“å‰çŠ¶å†µ

ç”±äºç½‘ç»œè¿æ¥é—®é¢˜ï¼Œæˆ‘æ— æ³•åœ¨æœ¬åœ°ç¯å¢ƒç›´æ¥ä¸ºæ‚¨æ„å»º Docker é•œåƒçš„ tar æ–‡ä»¶ã€‚

## ğŸ¯ æ¨èè§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šåœ¨ç¾¤æ™– NAS ä¸Šæ„å»ºï¼ˆæ¨èï¼‰â­

**ä¸ºä»€ä¹ˆæ¨èï¼Ÿ**
- âœ… ç¾¤æ™– NAS ç½‘ç»œç¯å¢ƒé€šå¸¸æ›´ç¨³å®š
- âœ… ç›´æ¥åœ¨ç›®æ ‡ç¯å¢ƒæ„å»ºï¼Œå…¼å®¹æ€§æœ€ä½³
- âœ… æ— éœ€æ–‡ä»¶ä¼ è¾“ï¼ŒèŠ‚çœæ—¶é—´

**æ“ä½œæ­¥éª¤ï¼š**

1. **ä¸Šä¼ å®Œæ•´é¡¹ç›®**
   ```bash
   # å°† nas-dashboard-complete.tar.gz ä¸Šä¼ åˆ°ç¾¤æ™–
   # ä½ç½®ï¼š/volume1/docker/
   ```

2. **SSH è¿æ¥ç¾¤æ™–**
   ```bash
   ssh admin@ä½ çš„NAS_IP
   cd /volume1/docker/
   tar -xzf nas-dashboard-complete.tar.gz
   cd nasç®¡åº”ç”¨ç®¡ç†å¹³å°/
   ```

3. **ä¸€é”®æ„å»º**
   ```bash
   chmod +x å¿«é€Ÿæ„å»ºè„šæœ¬.sh
   ./å¿«é€Ÿæ„å»ºè„šæœ¬.sh
   ```

4. **è·å¾— tar æ–‡ä»¶**
   - è‡ªåŠ¨ç”Ÿæˆï¼š`nas-dashboard.tar`
   - å¯ç›´æ¥åœ¨ Container Manager ä¸­å¯¼å…¥

### æ–¹æ¡ˆäºŒï¼šä½¿ç”¨äº‘æœåŠ¡æ„å»º

å¦‚æœæ‚¨æœ‰äº‘æœåŠ¡å™¨æˆ–å…¶ä»–æœ‰è‰¯å¥½ç½‘ç»œçš„ç¯å¢ƒï¼š

```bash
# åœ¨äº‘æœåŠ¡å™¨ä¸Š
git clone <é¡¹ç›®åœ°å€>
cd nas-dashboard
docker build -t nas-dashboard:latest .
docker save -o nas-dashboard.tar nas-dashboard:latest

# ä¸‹è½½ tar æ–‡ä»¶åˆ°æœ¬åœ°
scp user@server:/path/nas-dashboard.tar ./
```

### æ–¹æ¡ˆä¸‰ï¼šæœ¬åœ°æ„å»ºè„šæœ¬

æˆ‘ä¸ºæ‚¨å‡†å¤‡äº†å¤šä¸ªæ„å»ºè„šæœ¬ï¼Œæ‚¨å¯ä»¥åœ¨ç½‘ç»œç¨³å®šæ—¶è¿è¡Œï¼š

1. **æ ‡å‡†æ„å»ºè„šæœ¬**
   ```bash
   ./build-image.sh
   ```

2. **å¿«é€Ÿæ„å»ºè„šæœ¬**  
   ```bash
   ./å¿«é€Ÿæ„å»ºè„šæœ¬.sh
   ```

3. **æœ€å°åŒ–æ„å»ºè„šæœ¬**
   ```bash
   ./build-minimal.sh
   ```

## ğŸ“‹ æ„å»ºå®Œæˆåçš„æ–‡ä»¶

æˆåŠŸæ„å»ºåæ‚¨å°†è·å¾—ï¼š
- **æ–‡ä»¶å**: `nas-dashboard.tar`
- **å¤§å°**: çº¦ 500MB - 1GB
- **ç”¨é€”**: Container Manager æ˜ åƒå¯¼å…¥

## ğŸ”„ Container Manager å¯¼å…¥æµç¨‹

1. **æ‰“å¼€ Container Manager**
   - DSM â†’ Container Manager

2. **å¯¼å…¥é•œåƒ**
   - æ˜ åƒ â†’ æ–°å¢ â†’ ä»æ–‡ä»¶æ–°å¢
   - é€‰æ‹© `nas-dashboard.tar`

3. **å¯åŠ¨å®¹å™¨**
   - æ‰¾åˆ° `nas-dashboard:latest`
   - ç‚¹å‡» "å¯åŠ¨" æŒ‰é’®
   - é…ç½®ç«¯å£ã€å­˜å‚¨ã€ç¯å¢ƒå˜é‡

## ğŸ’¡ é…ç½®å‚æ•°æé†’

**ç«¯å£æ˜ å°„**: `3000:3000`
**å­˜å‚¨è£…è½½**:
- `/volume1/docker/nasç®¡åº”ç”¨ç®¡ç†å¹³å°/data` â†’ `/app/data`
- `/var/run/docker.sock` â†’ `/var/run/docker.sock` (åªè¯»)

**ç¯å¢ƒå˜é‡**:
```
NODE_ENV=production
PORT=3000
DB_PATH=/app/data/database.sqlite
TZ=Asia/Shanghai
```

## ğŸ†˜ å¦‚æœæ„å»ºå¤±è´¥

**æ£€æŸ¥æ¸…å•ï¼š**
1. âœ… Docker æœåŠ¡æ˜¯å¦è¿è¡Œæ­£å¸¸
2. âœ… ç½‘ç»œè¿æ¥æ˜¯å¦ç¨³å®šï¼ˆèƒ½è®¿é—® Docker Hubï¼‰
3. âœ… ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³ï¼ˆè‡³å°‘ 2GB å¯ç”¨ï¼‰
4. âœ… ç³»ç»Ÿå†…å­˜æ˜¯å¦å……è¶³ï¼ˆæ¨è 4GB+ï¼‰

**æ•…éšœæ’é™¤ï¼š**
```bash
# æ£€æŸ¥ Docker çŠ¶æ€
docker info

# æµ‹è¯•ç½‘ç»œè¿æ¥
ping registry-1.docker.io

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# æ¸…ç† Docker ç¼“å­˜
docker system prune -f
```

---

## ğŸŠ æ€»ç»“

**æœ€ç®€å•çš„æ–¹æ³•**ï¼š
1. ä¸Šä¼ é¡¹ç›®åˆ°ç¾¤æ™– NAS
2. åœ¨ NAS ä¸Šè¿è¡Œ `./å¿«é€Ÿæ„å»ºè„šæœ¬.sh`
3. è·å¾— `nas-dashboard.tar` æ–‡ä»¶
4. Container Manager å¯¼å…¥ä½¿ç”¨

è¿™æ ·æ—¢é¿å…äº†ç½‘ç»œé—®é¢˜ï¼Œåˆèƒ½ç›´æ¥åœ¨ç›®æ ‡ç¯å¢ƒå®Œæˆæ„å»ºï¼