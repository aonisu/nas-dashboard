# Container Manager å›¾å½¢åŒ–éƒ¨ç½²æŒ‡å—

## ğŸ¯ ä¸¤ç§éƒ¨ç½²æ–¹å¼å¯¹æ¯”

### æ–¹å¼ä¸€ï¼šé¡¹ç›®éƒ¨ç½²ï¼ˆæ¨èï¼‰âœ¨
- âœ… è‡ªåŠ¨æ„å»ºé•œåƒ
- âœ… é…ç½®ç®€å•
- âœ… æ”¯æŒä¸€é”®æ›´æ–°
- âœ… æ—¥å¿—ç®¡ç†æ–¹ä¾¿

### æ–¹å¼äºŒï¼šå®¹å™¨éƒ¨ç½²
- âš ï¸ éœ€è¦å…ˆæ„å»ºé•œåƒ
- âœ… é…ç½®çµæ´»
- âœ… èµ„æºæ§åˆ¶ç²¾ç¡®

## ğŸš€ æ–¹å¼ä¸€ï¼šContainer Manager é¡¹ç›®éƒ¨ç½²

### æ­¥éª¤ 1: ä¸Šä¼ é¡¹ç›®æ–‡ä»¶
1. å°†æ•´ä¸ª `nasç®¡åº”ç”¨ç®¡ç†å¹³å°` æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°ç¾¤æ™–
2. å»ºè®®æ”¾åœ¨ `/volume1/docker/nas-dashboard/`

### æ­¥éª¤ 2: åˆ›å»ºé¡¹ç›®
1. **æ‰“å¼€ Container Manager**
   - DSM ä¸»èœå• â†’ Container Manager

2. **æ–°å»ºé¡¹ç›®**
   - ç‚¹å‡» "é¡¹ç›®" æ ‡ç­¾é¡µ
   - ç‚¹å‡» "æ–°å¢" æŒ‰é’®
   - é€‰æ‹© "ä»æºåˆ›å»º"

3. **é…ç½®é¡¹ç›®**
   ```
   é¡¹ç›®åç§°: nas-dashboard
   æ¥æº: æœ¬åœ°æ–‡ä»¶å¤¹
   è·¯å¾„: /volume1/docker/nas-dashboard
   ```

4. **å¯åŠ¨æ„å»º**
   - ç‚¹å‡» "ä¸‹ä¸€æ­¥"
   - ç³»ç»Ÿä¼šè‡ªåŠ¨è¯»å– docker-compose.yml
   - ç‚¹å‡» "å®Œæˆ" å¼€å§‹æ„å»º

### æ­¥éª¤ 3: ç­‰å¾…å®Œæˆ
- æ„å»ºè¿‡ç¨‹éœ€è¦ 5-10 åˆ†é’Ÿ
- å¯åœ¨ "é¡¹ç›®" é¡µé¢æŸ¥çœ‹çŠ¶æ€
- çŠ¶æ€å˜ä¸º "æ­£åœ¨è¿è¡Œ" å³å¯è®¿é—®

## ğŸ”§ æ–¹å¼äºŒï¼šç›´æ¥å®¹å™¨éƒ¨ç½²

### æ­¥éª¤ 1: SSH æ„å»ºé•œåƒ
```bash
# SSH è¿æ¥ NAS
ssh admin@ä½ çš„NAS_IP

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /volume1/docker/nas-dashboard

# è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
chmod +x synology-deploy.sh
./synology-deploy.sh

# é€‰æ‹©é€‰é¡¹ 2 (ä»…æ„å»ºé•œåƒ)
```

### æ­¥éª¤ 2: Container Manager åˆ›å»ºå®¹å™¨

1. **å®¹å™¨é¡µé¢**
   - Container Manager â†’ å®¹å™¨ â†’ æ–°å¢

2. **é€‰æ‹©é•œåƒ**
   - é•œåƒ: `nas-dashboard:latest`
   - å®¹å™¨åç§°: `nas-dashboard`

3. **é«˜çº§è®¾ç½®**

   **ç«¯å£è®¾ç½®:**
   ```
   æœ¬åœ°ç«¯å£: 3000
   å®¹å™¨ç«¯å£: 3000
   ç±»å‹: TCP
   ```

   **å­˜å‚¨ç©ºé—´:**
   ```
   æ–‡ä»¶å¤¹: /volume1/docker/nas-dashboard/data
   è£…è½½è·¯å¾„: /app/data
   ```
   ```
   æ–‡ä»¶å¤¹: /var/run/docker.sock
   è£…è½½è·¯å¾„: /var/run/docker.sock
   æƒé™: åªè¯»
   ```

   **ç¯å¢ƒ:**
   ```
   NODE_ENV=production
   PORT=3000
   DB_PATH=/app/data/database.sqlite
   TZ=Asia/Shanghai
   ```

4. **å¯åŠ¨å®¹å™¨**
   - ç‚¹å‡» "ä¸‹ä¸€æ­¥" â†’ "å®Œæˆ"

## ğŸ“‹ é…ç½®æ¸…å•

### å¿…éœ€çš„å­˜å‚¨æ˜ å°„
| æœ¬åœ°è·¯å¾„ | å®¹å™¨è·¯å¾„ | æƒé™ | è¯´æ˜ |
|---------|---------|------|------|
| `/volume1/docker/nas-dashboard/data` | `/app/data` | è¯»å†™ | æ•°æ®åº“å’Œé…ç½®æ–‡ä»¶ |
| `/var/run/docker.sock` | `/var/run/docker.sock` | åªè¯» | Docker API è®¿é—® |

### å¿…éœ€çš„ç«¯å£è½¬å‘
| æœ¬åœ°ç«¯å£ | å®¹å™¨ç«¯å£ | åè®® |
|---------|---------|------|
| 3000 | 3000 | TCP |

### æ¨èçš„ç¯å¢ƒå˜é‡
| å˜é‡å | å€¼ | è¯´æ˜ |
|-------|----|----|
| NODE_ENV | production | ç”Ÿäº§ç¯å¢ƒ |
| PORT | 3000 | æœåŠ¡ç«¯å£ |
| DB_PATH | /app/data/database.sqlite | æ•°æ®åº“è·¯å¾„ |
| TZ | Asia/Shanghai | æ—¶åŒºè®¾ç½® |

## ğŸ¯ è®¿é—®å’ŒéªŒè¯

### è®¿é—®åœ°å€
- **å†…ç½‘**: `http://ä½ çš„NAS_IP:3000`
- **æœ¬æœº**: `http://localhost:3000`

### åŠŸèƒ½éªŒè¯
1. âœ… é¦–é¡µä»ªè¡¨æ¿æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯
2. âœ… ç³»ç»Ÿé“¾æ¥é¡µé¢å¯ä»¥æ·»åŠ é“¾æ¥
3. âœ… ç³»ç»Ÿä¿¡æ¯é¡µé¢æ˜¾ç¤ºç¡¬ä»¶çŠ¶æ€
4. âœ… Docker é¡µé¢æ˜¾ç¤ºå®¹å™¨åˆ—è¡¨
5. âœ… è®¾ç½®é¡µé¢å¯ä»¥åˆ‡æ¢ä¸»é¢˜

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ„å»ºå¤±è´¥**
   ```bash
   # æ£€æŸ¥æ—¥å¿—
   docker logs nas-dashboard
   ```

2. **ç«¯å£å†²çª**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   netstat -tlnp | grep 3000
   ```

3. **æƒé™é—®é¢˜**
   ```bash
   # æ£€æŸ¥æ•°æ®ç›®å½•æƒé™
   ls -la /volume1/docker/nas-dashboard/data
   ```

4. **Docker Socket è®¿é—®å¤±è´¥**
   - ç¡®ä¿æ˜ å°„äº† `/var/run/docker.sock`
   - ç¡®ä¿æƒé™è®¾ç½®ä¸ºåªè¯»

### é‡æ–°éƒ¨ç½²
å¦‚æœéœ€è¦é‡æ–°éƒ¨ç½²ï¼š

1. **åœæ­¢å®¹å™¨/é¡¹ç›®**
   - Container Manager ä¸­åœæ­¢æœåŠ¡

2. **æ¸…ç†æ•°æ®** (å¯é€‰)
   ```bash
   rm -rf /volume1/docker/nas-dashboard/data/*
   ```

3. **é‡æ–°åˆ›å»º**
   - æŒ‰ç…§ä¸Šè¿°æ­¥éª¤é‡æ–°åˆ›å»º

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### èµ„æºé™åˆ¶å»ºè®®
- **å†…å­˜é™åˆ¶**: 512MB - 1GB
- **CPU é™åˆ¶**: 1-2 æ ¸
- **å­˜å‚¨**: é¢„ç•™ 100MB+ ç©ºé—´

### è‡ªåŠ¨å¯åŠ¨
- å¯ç”¨ "å¼€æœºè‡ªåŠ¨å¯åŠ¨"
- å¯ç”¨ "é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯"

---

ğŸ‰ **ç°åœ¨æ‚¨å¯ä»¥é€šè¿‡ Container Manager å›¾å½¢ç•Œé¢è½»æ¾éƒ¨ç½² NAS ç®¡ç†å¹³å°äº†ï¼**