# ğŸ¯ NAS Dashboard å®‰è£…è¯´æ˜

## ğŸ“¦ æ‚¨æ”¶åˆ°çš„å®Œæ•´å®‰è£…åŒ…

### æ ¸å¿ƒæ–‡ä»¶
- âœ… **æºä»£ç **: `client/` å’Œ `server/` ç›®å½•
- âœ… **é…ç½®æ–‡ä»¶**: `package.json`, `docker-compose.yml`
- âœ… **æ„å»ºæ–‡ä»¶**: `Dockerfile`, `Dockerfile.local`

### å®‰è£…è„šæœ¬
- âœ… **nas-install.sh** - ä¸€é”®å®‰è£…è„šæœ¬ â­
- âœ… **synology-deploy.sh** - ç¾¤æ™–ä¸“ç”¨éƒ¨ç½²è„šæœ¬
- âœ… **build-image.sh** - é•œåƒæ„å»ºè„šæœ¬

### è¯¦ç»†æ–‡æ¡£
- âœ… **ç¾¤æ™–æ ‡å‡†éƒ¨ç½²æŒ‡å—.md** - Container Manager å®Œæ•´æ“ä½œæµç¨‹
- âœ… **å›¾å½¢åŒ–æ“ä½œæ­¥éª¤.md** - ç•Œé¢æ“ä½œè¯¦ç»†è¯´æ˜  
- âœ… **container-config-template.md** - é…ç½®å‚æ•°æ¨¡æ¿
- âœ… **ç¦»çº¿æ„å»ºæŒ‡å—.md** - ç½‘ç»œé—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸš€ æ¨èå®‰è£…æ–¹å¼ï¼ˆæœ€ç®€å•ï¼‰

### æ–¹æ³•ä¸€ï¼šä¸€é”®å®‰è£… â­â­â­

1. **ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶å¤¹åˆ°ç¾¤æ™– NAS**
   ```
   å»ºè®®è·¯å¾„: /volume1/docker/nas-dashboard/
   ```

2. **SSH è¿æ¥è¿è¡Œä¸€é”®å®‰è£…**
   ```bash
   ssh admin@ä½ çš„NAS_IP
   cd /volume1/docker/nas-dashboard/
   chmod +x nas-install.sh
   ./nas-install.sh
   ```

3. **é€‰æ‹©æ„å»ºæ–¹å¼**
   - é€‰é¡¹ 1: æ ‡å‡†æ„å»ºï¼ˆç½‘ç»œè‰¯å¥½ï¼‰
   - é€‰é¡¹ 2: æœ¬åœ°æ„å»ºï¼ˆç½‘ç»œä¸ä½³ï¼‰â­ æ¨è

4. **è·å¾— tar æ–‡ä»¶**
   - è„šæœ¬ä¼šè‡ªåŠ¨æ„å»ºå¹¶å¯¼å‡º `nas-dashboard.tar`
   - è¿™å°±æ˜¯æ‚¨éœ€è¦çš„é•œåƒæ–‡ä»¶ï¼

### æ–¹æ³•äºŒï¼šContainer Manager æ ‡å‡†æµç¨‹ â­â­

1. **ä½¿ç”¨ç”Ÿæˆçš„ tar æ–‡ä»¶**
   - è¿è¡Œä¸Šè¿°è„šæœ¬åè·å¾— `nas-dashboard.tar`

2. **Container Manager å¯¼å…¥**
   - Container Manager â†’ æ˜ åƒ â†’ æ–°å¢ â†’ ä»æ–‡ä»¶æ–°å¢
   - é€‰æ‹© `nas-dashboard.tar` æ–‡ä»¶å¯¼å…¥

3. **ç‚¹å‡»å¯åŠ¨æŒ‰é’®**
   - åœ¨æ˜ åƒåˆ—è¡¨æ‰¾åˆ° `nas-dashboard:latest`
   - ç‚¹å‡» "å¯åŠ¨" æŒ‰é’®

4. **é…ç½®å®¹å™¨å‚æ•°**
   ```
   ç«¯å£: 3000:3000
   å­˜å‚¨1: /volume1/docker/nas-dashboard/data â†’ /app/data
   å­˜å‚¨2: /var/run/docker.sock â†’ /var/run/docker.sock (åªè¯»)
   ç¯å¢ƒå˜é‡:
     NODE_ENV=production
     PORT=3000
     DB_PATH=/app/data/database.sqlite
     TZ=Asia/Shanghai
   ```

## ğŸ“‹ Container Manager é…ç½®æ¸…å•

### ğŸ”Œ ç«¯å£è®¾ç½®
| æœ¬åœ°ç«¯å£ | å®¹å™¨ç«¯å£ | åè®® |
|---------|---------|------|
| 3000 | 3000 | TCP |

### ğŸ“ å­˜å‚¨è£…è½½
| æœ¬åœ°è·¯å¾„ | å®¹å™¨è·¯å¾„ | æƒé™ | è¯´æ˜ |
|---------|---------|------|------|
| `/volume1/docker/nas-dashboard/data` | `/app/data` | è¯»å†™ | æ•°æ®åº“å’Œé…ç½® |
| `/var/run/docker.sock` | `/var/run/docker.sock` | åªè¯» | Docker API è®¿é—® |

### ğŸŒ ç¯å¢ƒå˜é‡
| å˜é‡å | å€¼ | è¯´æ˜ |
|-------|----|----|
| NODE_ENV | production | è¿è¡Œç¯å¢ƒ |
| PORT | 3000 | æœåŠ¡ç«¯å£ |
| DB_PATH | /app/data/database.sqlite | æ•°æ®åº“è·¯å¾„ |
| TZ | Asia/Shanghai | æ—¶åŒºè®¾ç½® |

## ğŸ¯ å®‰è£…åè®¿é—®

### è®¿é—®åœ°å€
- **ä¸»è¦è®¿é—®**: `http://ä½ çš„NAS_IP:3000`
- **æœ¬åœ°è®¿é—®**: `http://localhost:3000`

### åŠŸèƒ½éªŒè¯
è®¿é—®åæ£€æŸ¥ä»¥ä¸‹åŠŸèƒ½ï¼š
- âœ… ä»ªè¡¨æ¿æ˜¾ç¤ºç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
- âœ… ç³»ç»Ÿé“¾æ¥é¡µé¢å¯ä»¥æ·»åŠ å’Œç®¡ç†é“¾æ¥
- âœ… ç³»ç»Ÿä¿¡æ¯é¡µé¢æ˜¾ç¤º NAS ç¡¬ä»¶è¯¦æƒ…
- âœ… Docker é¡µé¢æ˜¾ç¤ºå®¹å™¨åˆ—è¡¨å’Œç®¡ç†åŠŸèƒ½
- âœ… è®¾ç½®é¡µé¢å¯ä»¥åˆ‡æ¢æ·±è‰²/æµ…è‰²ä¸»é¢˜

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ„å»ºå¤±è´¥ - ç½‘ç»œé—®é¢˜**
   ```bash
   # è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æœ¬åœ°æ„å»º
   ./nas-install.sh
   # é€‰æ‹©é€‰é¡¹ 2
   ```

2. **å®¹å™¨å¯åŠ¨å¤±è´¥ - ç«¯å£å†²çª**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   netstat -tlnp | grep 3000
   ```

3. **Docker API è®¿é—®å¤±è´¥**
   - ç¡®ä¿ Docker Socket è£…è½½æ­£ç¡®
   - æ£€æŸ¥æƒé™è®¾ç½®ä¸ºåªè¯»

4. **æ•°æ®åº“æƒé™é—®é¢˜**
   ```bash
   # æ£€æŸ¥æ•°æ®ç›®å½•æƒé™
   ls -la /volume1/docker/nas-dashboard/data
   chmod 755 /volume1/docker/nas-dashboard/data
   ```

### é‡æ–°å®‰è£…
å¦‚éœ€é‡æ–°å®‰è£…ï¼š
```bash
# æ¸…ç†ç°æœ‰å®¹å™¨å’Œé•œåƒ
docker stop nas-dashboard
docker rm nas-dashboard
docker rmi nas-dashboard:latest

# é‡æ–°è¿è¡Œå®‰è£…è„šæœ¬
./nas-install.sh
```

## ğŸ“Š ç³»ç»Ÿè¦æ±‚

### ç¡¬ä»¶è¦æ±‚
- **å†…å­˜**: æœ€å°‘ 512MB å¯ç”¨å†…å­˜
- **å­˜å‚¨**: çº¦ 200MB ç£ç›˜ç©ºé—´
- **CPU**: ä»»ä½•æ”¯æŒ Docker çš„å¤„ç†å™¨

### è½¯ä»¶è¦æ±‚
- **DSM**: 7.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Container Manager**: å·²å®‰è£…å¹¶è¿è¡Œ
- **ç½‘ç»œ**: å†…ç½‘è®¿é—®ï¼ˆç«¯å£ 3000ï¼‰

## ğŸŠ å®‰è£…å®Œæˆåçš„åŠŸèƒ½

### ğŸ¯ ä¸»è¦åŠŸèƒ½
- **å®æ—¶ç³»ç»Ÿç›‘æ§**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡å®æ—¶æ˜¾ç¤º
- **Docker æœåŠ¡ç®¡ç†**: å®¹å™¨å¯åœæ§åˆ¶å’ŒçŠ¶æ€ç›‘æ§
- **ç³»ç»Ÿé“¾æ¥ç®¡ç†**: ç»Ÿä¸€ç®¡ç†æ‰€æœ‰æœåŠ¡çš„è®¿é—®é“¾æ¥
- **ç¡¬ä»¶ä¿¡æ¯å±•ç¤º**: è¯¦ç»†çš„ç³»ç»Ÿä¿¡æ¯å’Œç½‘ç»œæ¥å£
- **å“åº”å¼ç•Œé¢**: å®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿å’Œç”µè„‘
- **ä¸»é¢˜åˆ‡æ¢**: æ·±è‰²å’Œæµ…è‰²ä¸»é¢˜éšæ„åˆ‡æ¢

### ğŸ”§ ç®¡ç†ç‰¹æ€§
- **WebSocket å®æ—¶æ¨é€**: ç³»ç»Ÿæ•°æ®å®æ—¶æ›´æ–°
- **æ•°æ®æŒä¹…åŒ–**: æ‰€æœ‰é…ç½®å’Œæ•°æ®è‡ªåŠ¨ä¿å­˜
- **å¥åº·æ£€æŸ¥**: è‡ªåŠ¨ç›‘æ§æœåŠ¡è¿è¡ŒçŠ¶æ€
- **æ—¥å¿—è®°å½•**: å®Œæ•´çš„æ“ä½œæ—¥å¿—å’Œé”™è¯¯è¿½è¸ª

---

## ğŸ‰ æ€»ç»“

1. **ä¸Šä¼ å®Œæ•´é¡¹ç›®** åˆ°ç¾¤æ™– NAS
2. **è¿è¡Œ `./nas-install.sh`** ä¸€é”®æ„å»º
3. **è·å¾— `nas-dashboard.tar`** é•œåƒæ–‡ä»¶  
4. **Container Manager å¯¼å…¥** é•œåƒ
5. **ç‚¹å‡»å¯åŠ¨æŒ‰é’®** é…ç½®å‚æ•°
6. **è®¿é—® `http://NAS_IP:3000`** äº«å—ç®¡ç†ç•Œé¢

**ğŸš€ ç°åœ¨æ‚¨æ‹¥æœ‰äº†ä¸€ä¸ªå®Œæ•´ã€æ¼‚äº®ã€åŠŸèƒ½å¼ºå¤§çš„ NAS ç®¡ç†å¹³å°ï¼**